{"version":3,"file":"static/js/268.98efb27b.chunk.js","mappings":"qKAwBA,IArBmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACdC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,wBACGF,EAAOG,KAAI,SAAAC,GAAK,OACf,yBACE,SAAC,KAAD,CACEC,GACwB,MAAtBJ,EAASK,SAAT,iBAAsCF,EAAMG,IAA5C,UAAsDH,EAAMG,IAE9DC,MAAO,CAAEC,KAAMR,GAJjB,SAMGG,EAAMM,OAASN,EAAMO,QAPjBP,EAAMG,GADA,KActB,C,sICID,EAtBkB,SAAC,GAAkB,IAAhBK,EAAe,EAAfA,SACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAWA,OACE,UAACC,EAAA,EAAD,CAAKC,GAAG,OAAOL,SANI,SAAAM,GACnBA,EAAEC,iBACFP,EAASE,GACTC,EAAS,GACV,EAEC,WACE,kBAAOK,KAAK,OAAOC,MAAOP,EAAOQ,SAXhB,SAAAJ,GACnBH,EAASG,EAAEK,OAAOF,MACnB,KAUG,mBAAQD,KAAK,SAASI,UAAWV,EAAjC,sBAKL,ECmBD,EArCe,WAAO,IAAD,EACnB,GAA4BD,EAAAA,EAAAA,UAAS,IAArC,eAAOb,EAAP,KAAeyB,EAAf,KACA,GAA0BZ,EAAAA,EAAAA,UAAS,MAAnC,eAAOa,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,iBAApB,QAAiC,IAElDC,EAAAA,EAAAA,YAAU,WACHF,IAILG,EAAAA,EAAAA,IAAmBH,GAChBI,MAAK,SAAAC,GACCA,EAAKC,OAIVZ,EAAUW,GAHRT,EAAS,mBAIZ,IACAW,OAAM,SAAAZ,GAAK,OAAIC,EAAS,oBAAb,GACf,GAAE,CAACI,IAQJ,OACE,6BACE,SAAC,EAAD,CAAWnB,SARM,SAAAE,GACnBgB,EAA0B,KAAVhB,EAAe,CAAEyB,OAAQzB,GAAU,CAAC,GACpDW,EAAU,IACVE,EAAS,KACV,IAKID,IAAS,uBAAIA,IACb1B,EAAOqC,OAAS,IAAK,SAACG,EAAA,EAAD,CAAYxC,OAAQA,MAG/C,C","sources":["components/MoviesList/MoviesList.jsx","components/SearchBox/SearchBox.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link\n            to={\n              location.pathname === '/' ? `movies/${movie.id}` : `${movie.id}`\n            }\n            state={{ from: location }}\n          >\n            {movie.title || movie.name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    title: PropTypes.string,\n    id: PropTypes.number.isRequired,\n  })).isRequired,\n};\n","import { useState } from 'react';\nimport Box from 'components/base/Box/Box';\nimport PropTypes from 'prop-types';\n\nconst SearchBox = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n  return (\n    <Box as=\"form\" onSubmit={handleSubmit}>\n      <input type=\"text\" value={query} onChange={handleChange}></input>\n      <button type=\"submit\" disabled={!query}>\n        Search\n      </button>\n    </Box>\n  );\n};\n\nexport default SearchBox;\n\nSearchBox.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByQuery } from 'api/api';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearchBox from 'components/SearchBox/SearchBox';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const filterParam = searchParams.get('filter') ?? '';\n\n  useEffect(() => {\n    if (!filterParam) {\n      return;\n    }\n\n    fetchMoviesByQuery(filterParam)\n      .then(data => {\n        if (!data.length) {\n          setError('Nothing found =(');\n          return;\n        }\n        setMovies(data);\n      })\n      .catch(error => setError('Failed to load =('));\n  }, [filterParam]);\n\n  const handleSubmit = query => {\n    setSearchParams(query !== '' ? { filter: query } : {});\n    setMovies([]);\n    setError(null);\n  };\n\n  return (\n    <main>\n      <SearchBox onSubmit={handleSubmit} />\n      {error && <p>{error}</p>}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["movies","location","useLocation","map","movie","to","pathname","id","state","from","title","name","onSubmit","useState","query","setQuery","Box","as","e","preventDefault","type","value","onChange","target","disabled","setMovies","error","setError","useSearchParams","searchParams","setSearchParams","filterParam","get","useEffect","fetchMoviesByQuery","then","data","length","catch","filter","MoviesList"],"sourceRoot":""}